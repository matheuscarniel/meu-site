<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Filmes - Matheus Carniel</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap');
    body{margin:0;font-family:'Montserrat',sans-serif;background-color:#f44336;color:white;opacity:0;transition:opacity .6s;}
    body.loaded{opacity:1}
    header{display:flex;justify-content:space-between;padding:20px 40px;font-size:12px;font-weight:700;letter-spacing:2px;}
    section{padding:60px 40px;opacity:0;transform:translateY(40px);transition:opacity .8s,transform .8s;}
    section.visible{opacity:1;transform:translateY(0)}
    h1{font-size:70px;font-weight:900;margin-bottom:40px;text-align:center;text-transform:uppercase;}
    .films-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:40px;}
    .film{position:relative;border-radius:15px;overflow:hidden;transition:transform .28s;display:block;color:white;text-decoration:none;}
    .film:hover{transform:scale(1.03)}
    .film img{width:100%;height:260px;object-fit:cover;display:block}
    .film-info{position:absolute;left:0;right:0;bottom:0;padding:18px 16px;background:linear-gradient(180deg,rgba(0,0,0,0) 0%,rgba(0,0,0,0.40)45%,rgba(0,0,0,0.65)100%);border-radius:0 0 15px 15px}
    .film-info h3{margin:0 0 8px 0;font-size:18px;font-weight:700;text-transform:uppercase;padding:0 6px;color:#fff;text-shadow:0 2px 6px rgba(0,0,0,.7)}
    .film-meta{display:flex;gap:18px;align-items:center;flex-wrap:wrap;font-size:13px;color:#eee;padding:0 6px}
    .film-meta span{display:inline-flex;align-items:center;gap:8px}
    .film-meta i{color:#ffd700;min-width:16px;text-align:center}
    .back-btn{display:inline-block;margin-top:60px;padding:15px 30px;font-size:16px;font-weight:700;text-transform:uppercase;background:white;color:#f44336;border-radius:10px;text-decoration:none}
    footer{text-align:center;padding:40px;font-size:12px}
    @media(max-width:1024px){.films-grid{grid-template-columns:repeat(2,1fr)}}
    @media(max-width:600px){.films-grid{grid-template-columns:1fr}.film img{height:220px}}
  </style>
  <link rel="stylesheet" href="css/webfonts/fontawesome-free-7.0.1-web/css/all.min.css">
</head>
<body>
  <header>
    <div>MATHEUS CARNIEL</div>
    <div>FILMES</div>
  </header>

  <section>
    <h1>FILMES</h1>
    <div id="grid" class="films-grid"></div>
    <div id="loading" style="text-align:center"><div class="spinner"></div></div>
    <div style="text-align:center;"><a href="index.html" class="back-btn">Voltar</a></div>
  </section>
  <footer>© 2025 Matheus Carniel. Todos os direitos reservados.</footer>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getFirestore, collection, query, orderBy, getDocs } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

    const app = initializeApp({
      apiKey:"AIzaSyA5Nu6Bfg-QwmM3YnHLXHjNBbXi5aeK02k",
      authDomain:"textos-matheus.firebaseapp.com",
      projectId:"textos-matheus",
      storageBucket:"textos-matheus.appspot.com",
      messagingSenderId:"292723977997",
      appId:"1:292723977997:web:77baca4b9d2dd8ff638a44"
    });
    const db = getFirestore(app);

    const grid=document.getElementById('grid');
    const loading=document.getElementById('loading');

    (async()=>{
      const q=query(collection(db,"filmes"),orderBy("ano","desc"));
      const snap=await getDocs(q);
      grid.innerHTML="";
      snap.forEach(doc=>{
        const f=doc.data();
        const thumb=f.frame1||f.poster||"assets/images/filmes/filme9.jpg";
        const slug=encodeURIComponent(f.slug||doc.id);
        const href=`filme.html?slug=${slug}`;
        const a=document.createElement('a');
        a.className='film';
        a.href=href;
        a.innerHTML=`
          <img src="${thumb}" alt="${f.titulo||''}">
          <div class="film-info">
            <h3>${f.titulo||'Sem título'}</h3>
            <div class="film-meta">
              <span><i class="fas fa-film"></i> ${f.genero||''} • ${f.ano||''}</span>
              <span><i class="fas fa-clock"></i> ${f.duracao||''}</span>
              <span><i class="fas fa-palette"></i> ${f.cor||''}</span>
            </div>
          </div>`;
        grid.appendChild(a);
      });
      loading.style.display='none';
      document.body.classList.add('loaded');
      document.querySelector('section').classList.add('visible');
    })();
  </script>
</body>
</html>
